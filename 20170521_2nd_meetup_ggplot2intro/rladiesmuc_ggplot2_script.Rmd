---
title: "Making fRiends with: ggplot2"
author: "Pamela Matias"
date: "June 21st 2017"
output: html_document
---

***
# Outline
* Installing R and R Studio 
* Getting workshop files & data 
    + Download/Clone from GitHub
* Nice to meet you, ggplot2 
* Dataset
* Basic types of plots
* Exercises

***

This is an [R Markdown](http://rmarkdown.rstudio.com) script. When you execute code within the notebook, the results appear beneath the code ;)  

You can go executing different code chunks individually by clicking the *Run* button at the top of the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. You can also just run a single line if you highlight it and then press *Cmd+Enter*.

If you don't feel so comfortable working with RMarkdown, check out the available .R script in our workshop files - that you can just work with normally.

***

\pagebreak

## Installing R and RStudio 

Open a web browser and go to http://cran.r-project.org, then download and install it

RStudio would also be helpful (get at http://rstudio.com)

In R, install the ggplot2 package:
```{r}
#install.packages("ggplot2")
```


## Getting workshop files & data

All of the files are to be found here [20170521_2nd_meetup_ggplot2intro](https://github.com/pameliux/RLadies_MUC/tree/master/20170521_2nd_meetup_ggplot2intro)

You can clone the repo or simply download the files :)


***

## Nice to meet you, ggplot2 

So we are officially taking our first steps with [Hardley Wickhams package ggplot2](http://ggplot2.org). 
Check out this website for more detailed information. 

What are we aiming for here?
In the next 10 to 15 minutes we will understand the underlying grammar of ggplot2, and explore how to code and modify five basic plot types this package has to offer. 

Make sure to check out the official, updated info for the [ggplot2 package]  
(https://cran.r-project.org/web/packages/ggplot2/ggplot2.pdf)


***

## Dataset: AirBnB in Berlin! 

To do something slightly different from the classic iris and diamonds, today we'll be packing our bags and off to Berlin we go! 

Or at least we'll do so mentally, since we'll be taking a look at data from AirBnB in this German city (sorry, there was no data available for our beloved Munich #muchdisappointment).

Anyway, [Inside Airbnb](http://insideairbnb.com) is a project that uses publicly available information from the Airbnb web-site. It includes the availability calendar for 365 days in the future, and the reviews for each listing. Since every detail is taken from what is out there, there is no "private" information being used without people's consents - all of the host and place information is already available online.  

A lot of work has been put into verifying, cleaning, aggregating and analyzing the data by [an entire team](http://insideairbnb.com/behind.html), aand it's been made available below under a [Creative Commons CC0 1.0 Universal (CC0 1.0) "Public Domain Dedication"](http://creativecommons.org/publicdomain/zero/1.0/) license - so in case you're interested, you can also download and play around with tons and tons of data from [several other cities](http://insideairbnb.com/get-the-data.html).

Btw, the platform offers an online [visualization tool](http://insideairbnb.com/berlin/). Our ggplots will be cool enough, but it could be worth taking a look at this tool.

Now, let's get to work. We need to download the data and read it in R; this first chunk will make our lifes easier when importing it directly from GitHub:
```{r}
#install.packages("RCurl")
library(RCurl)
```

Note: There are two datasets online:
* The [raw data](https://raw.githubusercontent.com/pamelamatias/RLadies_MUC/master/20170521_2nd_meetup_ggplot2intro/workshop_files/Berlin_listings_raw.csv), as directly downloaded from Inside Airbnb:
* Our [workshop data](), which has some minor corrections for funny characters appearing in German names (such as the emoji looking ?? and ??)

```{r}
diroutpam <- "/Users/Pam/Documents/GitHub/rladies_munich/20170521_2nd_meetup_ggplot2intro/workshop_files"

```

```{r}
# Option 1: Importing directly from GitHub using RCurl
x <- getURL("https://raw.githubusercontent.com/pamelamatias/RLadies_MUC/master/20170521_2nd_meetup_ggplot2intro/workshop_files/Berlin_listings_raw.csv")
berlin <- read.csv(text = x)

#Option 2: Download and save (or clone) data, then just type in the corresponding directory and off we go!
berlin<-read.csv("/Users/Pam/Desktop/ggplot2/datasets/Berlin_listings.csv")

# Check nothing funny happened while we were importing it
head(berlin)
```

As you can see, `berlin` has >20k listings for AirBnB places in Berlin, and 16 observations per listing. This dataset is 
Snapshot of the listings available at a particular time (in this case, up to last month)

```{r exploring_berlin_01}
#summary() of each variable: five-point statistics (numeric), number of entries per levels (factor)
str(berlin)

summary(berlin)

```

